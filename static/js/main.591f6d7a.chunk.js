(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{54:function(e,t,r){},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n,c,s=r(0),o=r.n(s),a=r(9),i=r.n(a),u=r(6),d=r(3),l=Object(d.c)({name:"selectedUser",initialState:{selectedUserId:null},reducers:{selectUser:function(e,t){e.selectedUserId=t.payload},clearUser:function(e){e.selectedUserId=null}}}),j=l.actions,b=j.selectUser,p=j.clearUser,f=l.reducer,h=r(4),O=r(5),x=r.n(O),m=r(10),_=r(11),v=r.n(_),y=Object(d.b)("todos/getAll",function(){var e=Object(m.a)(x.a.mark((function e(t,r){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,v.a.get("https://mate.academy/students-api/todos");case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Sorry, seems like our servers are on \ud83d\udd25. Try again"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),g=Object(d.c)({name:"todos",initialState:{todos:[],isLoading:!1,error:""},reducers:{shuffleTodos:function(e){e.todos.sort((function(){return.5-Math.random()}))},deleteTodo:function(e,t){var r=t.payload;e.todos=e.todos.filter((function(e){return e.id!==r}))}},extraReducers:(n={},Object(h.a)(n,y.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(h.a)(n,y.rejected.type,(function(e,t){e.isLoading=!1,e.error=t.payload})),Object(h.a)(n,y.fulfilled.type,(function(e,t){e.isLoading=!1,e.error="",e.todos=t.payload})),n)}),L=g.actions,U=L.shuffleTodos,C=L.deleteTodo,T=g.reducer,N=Object(d.b)("users/getById",function(){var e=Object(m.a)(x.a.mark((function e(t,r){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,v.a.get("https://mate.academy/students-api/users/".concat(t));case 4:if((c=e.sent).data){e.next=7;break}return e.abrupt("return",n("User not found \ud83e\udd37\u200d\u2642\ufe0f"));case 7:return e.abrupt("return",c.data);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",n("Failed to load user. \ud83d\ude12"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}()),k=Object(d.c)({name:"user",initialState:{user:{},isLoading:!1,error:""},reducers:{},extraReducers:(c={},Object(h.a)(c,N.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(h.a)(c,N.rejected.type,(function(e,t){e.isLoading=!1,e.error=t.payload})),Object(h.a)(c,N.fulfilled.type,(function(e,t){e.isLoading=!1,e.error="",e.user=t.payload})),c)}).reducer,S=Object(d.a)({reducer:{selectedUserId:f,todo:T,user:k}}),I=(r(54),r(15)),w=function(){return Object(u.b)()},A=u.c,F=r(1),D=function(e){var t=e.query,r=e.onQueryChange,n=e.filterOption,c=e.onFilterChange,s=w();return Object(F.jsxs)("div",{className:"TodoList__filter",children:[Object(F.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)}}),Object(F.jsxs)("select",{value:n,onChange:function(e){return c(e.target.value)},children:[Object(F.jsx)("option",{value:"all",children:"All"}),Object(F.jsx)("option",{value:"active",children:"Active"}),Object(F.jsx)("option",{value:"completed",children:"Completed"})]}),Object(F.jsx)("button",{type:"button",onClick:function(){return s(U())},children:"Shuffle todos"})]})},E=r(14),q=r.n(E),B=Object(s.memo)((function(e){var t=e.todo,r=t.id,n=t.userId,c=t.title,s=t.completed,o=e.isSelected,a=e.onUserSelect,i=e.onTodoDelete;return Object(F.jsxs)("li",{className:q()("TodoList__item",{"TodoList__item--unchecked":!s,"TodoList__item--checked":s}),children:[Object(F.jsxs)("label",{htmlFor:"".concat(r),children:[Object(F.jsx)("input",{type:"checkbox",checked:s,readOnly:!0,id:"".concat(r)}),Object(F.jsx)("p",{children:c})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{className:"TodoList__user-button button",type:"button",onClick:function(){return i(r)},children:"Delete Todo"}),Object(F.jsx)("button",{className:q()("TodoList__user-button","button",{"TodoList__user-button--selected":o}),type:"button",onClick:function(){return a(n)},children:"User ".concat(n)})]})]})})),J=(r(56),function(){var e=A((function(e){return e.todo})),t=e.todos,r=e.error,n=e.isLoading,c=A((function(e){return e.selectedUserId})).selectedUserId,o=w(),a=Object(s.useState)(""),i=Object(I.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)("all"),j=Object(I.a)(l,2),p=j[0],f=j[1],h=Object(s.useCallback)((function(e){o(b(e))}),[]),O=Object(s.useCallback)((function(e){o(C(e))}),[]),x=t.filter((function(e){switch(p){case"active":return!e.completed;case"completed":return e.completed;default:return e}})).filter((function(e){return e.title.toLowerCase().includes(u.toLowerCase())}));return Object(s.useEffect)((function(){o(y())}),[]),r?Object(F.jsx)("p",{children:r}):Object(F.jsxs)("div",{className:"TodoList",children:[Object(F.jsx)("h2",{children:"Todos:"}),n?Object(F.jsx)("p",{children:"Loading..."}):Object(F.jsxs)("div",{className:"TodoList__list-container",children:[Object(F.jsx)(D,{query:u,onQueryChange:d,filterOption:p,onFilterChange:f}),Object(F.jsx)("ul",{className:"TodoList__list",children:t.length&&x.map((function(e){return Object(F.jsx)(B,{todo:e,isSelected:c===e.userId,onUserSelect:h,onTodoDelete:O},e.id)}))})]})]})}),M=(r(57),function(){var e=A((function(e){return e.user})),t=e.user,r=e.error,n=e.isLoading,c=A((function(e){return e.selectedUserId})).selectedUserId,o=w();return Object(s.useEffect)((function(){c&&o(N(c))}),[c]),r?Object(F.jsx)("p",{children:r}):n?Object(F.jsx)("p",{children:"Loading..."}):Object(F.jsx)("div",{className:"CurrentUser",children:c?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h2",{className:"CurrentUser__title",children:Object(F.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(F.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(F.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(F.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(F.jsx)("button",{className:"CurrentUser__clear button",onClick:function(){return o(p())},type:"button",children:"Clear selected user"})]}):Object(F.jsx)("h2",{className:"CurrentUser__title",children:Object(F.jsx)("span",{children:"Select user"})})})}),Q=(r(58),function(){return Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)("div",{className:"App__sidebar",children:Object(F.jsx)(J,{})}),Object(F.jsx)("div",{className:"App__content",children:Object(F.jsx)("div",{className:"App__content-container",children:Object(F.jsx)(M,{})})})]})}),R=function(){return Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(u.a,{store:S,children:Object(F.jsx)(Q,{})})})};i.a.render(Object(F.jsx)(R,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.591f6d7a.chunk.js.map